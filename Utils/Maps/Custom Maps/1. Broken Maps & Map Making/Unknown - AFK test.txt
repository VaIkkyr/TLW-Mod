OnRoundStart()
{
  VariableInt.Set("afkTimeout", 2);
  VariablePlayer.Set("player", VariablePlayer("player"));                
  VariableInt.Set("timer", 0);
  VariableBool.Set("playerAFK", true);
}

OnUpdate()
{
 If(Bool.Equals(VariableBool("playerAFK"), true))
  {
   ForeachPlayer("player")
   {
   VariableString.Set("currentPlayer", VariablePlayer("player").GetName());
   {
   If (String.Equals(VariableString(VariableString("loaded")), VariableString("null")))
	{
	 VariableString.Set("wasAlive", VariableString("currentPlayer"));
     VariableString.Append("wasAlive", "WasAlive");
     VariableBool.Set(VariableString("wasAlive"), VariablePlayer("player").GetIsAlive());
     
	 VariableString.Set("previousX", VariableString("currentPlayer"));
     VariableString.Append("previousX", "PreviousX");
     VariableInt.Set(VariableString("previousX"), 0);

     VariableString.Set("previousZ", VariableString("currentPlayer"));
     VariableString.Append("previousZ", "PreviousZ");
     VariableInt.Set(VariableString("previousZ"), 0);

     VariableString.Set("afkTime", VariableString("currentPlayer"));
     VariableString.Append("afkTime", "AFKTime");
     VariableInt.Set(VariableString("afkTime"), 0);
	 }
	
   
 Else
     {
      VariableString.Set("wasAlive", VariableString("currentPlayer"));
      VariableString.Append("wasAlive", "WasAlive");
     }
     VariableString.Set("previousX", VariableString("currentPlayer"));
     VariableString.Append("previousX", "PreviousX");
     VariableString.Set("previousZ", VariableString("currentPlayer"));
     VariableString.Append("previousZ", "PreviousZ");
     VariableString.Set("afkTime", VariableString("currentPlayer"));
     VariableString.Append("afkTime", "AFKTime");
	 {
     If (Bool.Equals(VariablePlayer("player").GetIsAlive(), false))
      {
       VariableInt.Add(VariableString("afkTime"), 1);
      }
     }
	Else
     {
      VariableInt.Set("currentX", VariablePlayer("player").GetPositionX().ConvertToInt());
      VariableInt.Set("currentZ", VariablePlayer("player").GetPositionZ().ConvertToInt());	   
	  
      If (Int.Equals(VariableInt("currentX"), VariableInt(VariableString("previousX"))))
       {
        If (Int.Equals(VariableInt("currentZ"), VariableInt(VariableString("previousZ"))))
        {
         VariableInt.Add(VariableString("afkTime"), 1);
        }
     Else
        {
        VariableInt.Set(VariableString("afkTime"), 0);
        Game.PrintMessage(VariableInt(VariableString("previousZ")).ConvertToString());
        VariableInt.Set(VariableString("previousZ"), VariableInt("currentZ"));
        }
       }
     Else
       {
        VariableInt.Set(VariableString("afkTime"), 0);
        Game.PrintMessage(VariableInt(VariableString("previousX")).ConvertToString());
        VariableInt.Set(VariableString("previousX"), VariableInt("currentX"));
        VariableInt.Set(VariableString("previousZ"), VariableInt("currentZ"));
       }
      }
 Else
      {
       If (Bool.Equals(VariablePlayer("player").GetIsAlive(), true))
       {
        Player.KillPlayer(VariablePlayer("player"),"[00FF00]Server [FF0000]kill [FFFFFF]AFK");
       }       
      }
     }
    }
   }
  }
 















